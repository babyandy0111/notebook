<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Andy&#39;s NoteBook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Hello Word~">
<meta property="og:type" content="website">
<meta property="og:title" content="Andy&#39;s NoteBook">
<meta property="og:url" content="https://babyandy0111.github.io/notebook/page/2/index.html">
<meta property="og:site_name" content="Andy&#39;s NoteBook">
<meta property="og:description" content="Hello Word~">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Andy">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/notebook/atom.xml" title="Andy's NoteBook" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/notebook/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/notebook/css/style.css">

  
    
<link rel="stylesheet" href="/notebook/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/notebook/" id="logo">Andy&#39;s NoteBook</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/notebook/" id="subtitle">i dont know how to coding</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/notebook/">Home</a>
        
          <a class="main-nav-link" href="/notebook/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/notebook/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœå°‹"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœå°‹"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://babyandy0111.github.io/notebook"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-how-to-install-azure-cli" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-azure-cli/" class="article-date">
  <time class="dt-published" datetime="2022-05-23T13:02:29.000Z" itemprop="datePublished">2022-05-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/azure/">azure</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-azure-cli/">how to install azure cli</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="what-is-Azure-CLI"><a href="#what-is-Azure-CLI" class="headerlink" title="what is Azure CLI"></a>what is Azure CLI</h1><p>Azure å‘½ä»¤åˆ—ä»‹é¢ (CLI) æ˜¯è·¨å¹³å°å‘½ä»¤åˆ—å·¥å…·ï¼Œå¯é€£ç·šåˆ° Azure ä¸¦åœ¨ Azure è³‡æºä¸ŠåŸ·è¡Œç³»çµ±ç®¡ç†å‘½ä»¤ã€‚ å…¶å…è¨±é€éçµ‚ç«¯æ©Ÿä½¿ç”¨äº’å‹•å¼å‘½ä»¤åˆ—æç¤ºæˆ–æŒ‡ä»¤ç¢¼ä¾†åŸ·è¡Œå‘½ä»¤ã€‚<br>è‹¥è¦é€²è¡Œäº’å‹•å¼ä½¿ç”¨ï¼Œä½ å¿…é ˆå…ˆåœ¨ Windows ä¸Šå•Ÿå‹• cmd.exe ä¹‹é¡çš„æ®¼å±¤ï¼Œæˆ–åœ¨ Linux æˆ– macOS ä¸Šå•Ÿå‹• Bashï¼Œç„¶å¾Œåœ¨æ®¼å±¤æç¤ºå­—å…ƒç™¼å‡ºå‘½ä»¤ã€‚ è‹¥è¦è‡ªå‹•åŒ–é‡è¤‡çš„å·¥ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨æ‰€é¸æ®¼å±¤çš„è…³æœ¬èªæ³•ï¼Œå°‡ CLI å‘½ä»¤çµ„åˆæˆæ®¼å±¤è…³æœ¬ï¼Œç„¶å¾ŒåŸ·è¡Œè…³æœ¬ã€‚</p>
<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>åœ¨macä¸Šå®‰è£ï¼Œå¦‚æœæ²’æœ‰Homebrewå°±å»å®‰è£<br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">brew update &amp;&amp; brew install azure-cli</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å¦‚æœåœ¨M1ä¸Š brewè¦æ”¹æˆ <span class="built_in">arch</span> -arm64 brew</span></span><br></pre></td></tr></table></figure>
<br>

<p>å®‰è£å®Œä¹‹å¾Œï¼ŒåŸ·è¡Œ<br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">az login</span></span><br></pre></td></tr></table></figure>

<p>æœƒè·³å‡ºç€è¦½èµ·é€²è¡Œé©—è­‰ç™»å…¥ï¼Œå°±ç›´æ¥åœ¨ç€è¦½å™¨ä¸­æ“ä½œå¾Œï¼Œå†å›åˆ°consoleï¼Œæœƒçœ‹åˆ°é©—è­‰è³‡è¨Šäº†ï½</p>
<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.microsoft.com/zh-tw/cli/azure/install-azure-cli">az cli install</a><br><br></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.microsoft.com/zh-tw/cli/azure/get-started-with-azure-cli">az cli å‘½ä»¤</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-azure-cli/" data-id="cl8ssb5o8000rd64ue3w21xeb" data-title="how to install azure cli" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/azure-cli/" rel="tag">azure-cli</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-install-k8s-on-aws" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-k8s-on-aws/" class="article-date">
  <time class="dt-published" datetime="2022-05-23T04:40:11.000Z" itemprop="datePublished">2022-05-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/aws/">aws</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-k8s-on-aws/">how to install k8s on aws</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="install-k8s-on-aws"><a href="#install-k8s-on-aws" class="headerlink" title="install k8s on aws"></a>install k8s on aws</h1><p>AWSå®‰è£é›†ç¾¤æœ‰å¾ˆå¤šç¨®æ–¹å¼ï¼Œä»Šå¤©æ•™å¤§å®¶ä½¿ç”¨eksctlé€²è¡Œéƒ¨ç½²é›†ç¾¤ï¼Œå…¶ä¸­éƒ¨ç½²é›†ç¾¤çš„Nodeæœ‰åˆ†linuxæˆ–è€…Fargateï¼Œä¸ç®¡æ˜¯å“ªç¨®éƒ¨ç½²ï¼Œéƒ½æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p>
<ul>
<li>AWS Fargate æ˜¯ä¸€é …æŠ€è¡“ï¼Œå¯ä»¥èˆ‡ Amazon ECS æ­é…ä½¿ç”¨ä»¥åŸ·è¡Œå®¹å™¨ï¼Œè€Œä¸éœ€ç®¡ç† Amazon EC2 åŸ·è¡Œå€‹é«”çš„ä¼ºæœå™¨æˆ–å¢é›†ã€‚ä½¿ç”¨ Fargateï¼Œå°±ä¸å†éœ€è¦ä½ˆå»ºã€è¨­å®šæˆ–æ“´å±•è™›æ“¬æ©Ÿå™¨çš„å¢é›†ä¾†åŸ·è¡Œå®¹å™¨ã€‚é€™æ¨£ä¸€ä¾†å³ç„¡é ˆé¸æ“‡ä¼ºæœå™¨é¡å‹ã€æ±ºå®šä½•æ™‚æ“´å±•å¢é›†ï¼Œæˆ–æœ€ä½³åŒ–å¢é›†å£“ç¸®ã€‚</li>
<li>Linuxå°±æ˜¯ä½¿ç”¨EC2å»å»ºç«‹ä½ çš„Nodeï¼Œé€™é‚Šå°±ä¸è´…è¿°ã€‚</li>
<li>Note: Fargate ç‰¹æ€§é—œä¿‚ï¼Œå°±ç„¡æ³•ä½¿ç”¨ Daemonset</li>
</ul>
<br>
è¨˜å¾—è¦å…ˆå®‰è£å¥½ eksctl å’Œ kubectl <br>
å¦‚æœéƒ½å·²å®‰è£å¥½äº†ï¼Œé‚£å°±é–‹å§‹å»ºç«‹clusterå§
<br>


<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ eksctl create cluster <span class="comment"># å»ºç«‹cluster</span></span><br><span class="line">--name test-cluster <span class="comment"># cluster åç¨±</span></span><br><span class="line">--nodegroup-name test-nodes <span class="comment"># æŒ‡å®š aws-node çš„ç¾¤çµ„åç¨±</span></span><br><span class="line">--node-type t3.small <span class="comment"># æŒ‡å®šå·¥ä½œè€…ç¯€é»ä½¿ç”¨çš„åŸ·è¡Œå€‹é«”é¡å‹</span></span><br><span class="line">--nodes 3 <span class="comment"># æŒ‡å®šnodeæ•¸é‡</span></span><br><span class="line">--nodes-min 1 <span class="comment">#é‡å°ç¯€é»ç¾¤çµ„è¨­å®š Amazon EC2 Autoscaling çµ„æ…‹ä¸­çš„ç¯€é»æ•¸ç›®ä¸‹é™</span></span><br><span class="line">--nodes-max 4 <span class="comment">#é‡å°ç¯€é»ç¾¤çµ„è¨­å®š Amazon EC2 Autoscaling çµ„æ…‹ä¸­çš„ç¯€é»æ•¸ç›®ä¸Šé™</span></span><br><span class="line">--managed <span class="comment"># å»ºç«‹ Amazon EKS å—ç®¡ç¯€é»ç¾¤çµ„</span></span><br><span class="line">--version 1.20 <span class="comment"># æŒ‡å®šK8Sç‰ˆæœ¬</span></span><br><span class="line">--region us-east-2 <span class="comment"># AWS å€åŸŸ</span></span><br><span class="line"><span class="comment"># --fargate # å¦‚æœä½ è¦å»ºç«‹fargateé¡å‹ï¼Œè«‹å¤šåŠ  --fargate</span></span><br></pre></td></tr></table></figure>

<br>

<blockquote>
<p>Note: å‘½ä»¤åŸ·è¡Œi æœƒåœ¨ä½ çš„æœ¬æ©Ÿä¸‹ ~&#x2F;.kube&#x2F;config å»ºç«‹çµ„æ…‹æª”æ¡ˆï¼Œä¹Ÿç¨±ç‚º kubeconfigã€‚kubeconfig åŒ…å«æœ‰é—œ Amazon EKS å¢é›†çš„è©³ç´°è³‡è¨Šï¼ŒåŒ…æ‹¬å¢é›†åç¨±å’Œèº«åˆ†é©—è­‰æ–¹æ³•</p>
</blockquote>
<br>

<h1 id="ç­‰å¾…ä¸¦ç¢ºèªæ˜¯å¦å®‰è£clusteræˆåŠŸ"><a href="#ç­‰å¾…ä¸¦ç¢ºèªæ˜¯å¦å®‰è£clusteræˆåŠŸ" class="headerlink" title="ç­‰å¾…ä¸¦ç¢ºèªæ˜¯å¦å®‰è£clusteræˆåŠŸ"></a>ç­‰å¾…ä¸¦ç¢ºèªæ˜¯å¦å®‰è£clusteræˆåŠŸ</h1><p>é–‹å§‹å»ºç«‹ <br></p>
<img src="/notebook/how-to-install-k8s-on-aws/1.png" class="" title="label">

<br>

<p>ä½ æœƒçœ‹åˆ°ä½ çš„EKSå»ºç«‹ä¸€å€‹æ–°çš„é›†ç¾¤å‡ºä¾†äº† <br></p>
<img src="/notebook/how-to-install-k8s-on-aws/2.png" class="" title="label">


<br>

<p>é»é¸clusteré€²å»ï¼Œæœƒçœ‹åˆ°nodeæ˜¯ä½ æ‰€é–‹çš„æ©Ÿå™¨é¡å‹ <br></p>
<img src="/notebook/how-to-install-k8s-on-aws/3.png" class="" title="label">

<br>

<p>å†åˆ°EC2å°±æœƒçœ‹åˆ°ä½ å‰›å»ºç«‹çš„group <br><br>å¦‚æœä½ å»ºç«‹çš„æ˜¯fargateé¡å‹ï¼Œé‚£å°±ä¸æœƒçœ‹åˆ°EC2é–‹ç«‹<br></p>
<img src="/notebook/how-to-install-k8s-on-aws/4.png" class="" title="label">

<p>åŸºæœ¬ä¸Šä»¥ä¸Šç¢ºèªå°±ç®—æ˜¯æˆåŠŸäº†ï½æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†è©¦è©¦çœ‹ä¸€å€‹ç°¡å–®çš„ä¾‹å­ï¼Œæ”¾ä¸Šk8sè£¡å§</p>
<h1 id="å»ºç«‹ECRçš„image"><a href="#å»ºç«‹ECRçš„image" class="headerlink" title="å»ºç«‹ECRçš„image"></a>å»ºç«‹ECRçš„image</h1><ol>
<li>ç”¨ä¹‹å‰gcpçš„ç°¡å–®ç¯„ä¾‹ï¼Œå»ºç«‹image</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">vi Dockerfile</span></span><br></pre></td></tr></table></figure>

<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">6.9</span>.<span class="number">2</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> server.js .</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> node server.js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t 185271018684.dkr.ecr.us-east-2.amazonaws.com/hello-node:v1 .</span><br><span class="line"></span><br><span class="line">$ aws ecr create-repository --repository-name hello-node</span><br><span class="line"><span class="comment">#è¼¸å‡º</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;repository&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;repositoryArn&quot;</span>: <span class="string">&quot;arn:aws:ecr:us-east-2:185271018684:repository/hello-node&quot;</span>,</span><br><span class="line">        <span class="string">&quot;registryId&quot;</span>: <span class="string">&quot;185271018684&quot;</span>,</span><br><span class="line">        <span class="string">&quot;repositoryName&quot;</span>: <span class="string">&quot;hello-node&quot;</span>,</span><br><span class="line">        <span class="string">&quot;repositoryUri&quot;</span>: <span class="string">&quot;185271018684.dkr.ecr.us-east-2.amazonaws.com/hello-node&quot;</span>,</span><br><span class="line">        <span class="string">&quot;createdAt&quot;</span>: <span class="string">&quot;2022-05-23T13:50:04+08:00&quot;</span>,</span><br><span class="line">        <span class="string">&quot;imageTagMutability&quot;</span>: <span class="string">&quot;MUTABLE&quot;</span>,</span><br><span class="line">        <span class="string">&quot;imageScanningConfiguration&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;scanOnPush&quot;</span>: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;encryptionConfiguration&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;encryptionType&quot;</span>: <span class="string">&quot;AES256&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<ol start="3">
<li>æ“·å–ä¸Šæ–¹çš„ repositoryUri å€¼ï¼Œä¸¦å»ºç«‹tagã€‚</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag hello-node:v1 185271018684.dkr.ecr.us-east-2.amazonaws.com/hello-node:v1</span><br></pre></td></tr></table></figure>
<br>

<ol start="4">
<li><p>åŸ·è¡Œ aws ecr get-login-password å‘½ä»¤ï¼Œå¦‚æ­¤us-west-2 å€åŸŸçš„ç¯„ä¾‹ä¸­æ‰€ç¤º</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">aws ecr get-login-password --region us-west-2 | docker login --username AWS --password-stdin 185271018684.dkr.ecr.us-west-2.amazonaws.com/hello-node:v1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>push</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">docker push 185271018684.dkr.ecr.us-east-2.amazonaws.com/hello-node:v1</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<p>ä½ å¯ä»¥åˆ°ECRç•«é¢ä¸­ç¢ºèªï¼Œæ‡‰è©²å·²ç¶“å‡ºç¾hello-node:v1ï¼ŒæŠŠURIä½ç½®è¤‡è£½ä¸‹ä¾†å§ï½</p>
<img src="/notebook/how-to-install-k8s-on-aws/9.png" class="" title="label">

<blockquote>
<p>Note: Mac M1ä¸‹buildçš„imageæœƒæœ‰å•é¡Œï¼Œè«‹å‹™å¿…ä½¿ç”¨linuxç³»çµ±ç·¨è­¯</p>
</blockquote>
<br>

<p>åŸ·è¡Œkubectlï¼Œè®“imageé€²å…¥k8s</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">web-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">web</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">web</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">web</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello-node</span></span><br><span class="line">        <span class="attr">image:</span> <span class="number">185271018684.</span><span class="string">dkr.ecr.us-east-2.amazonaws.com/hello-node:v1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>

<p>å»ºç«‹k8s deployment<br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl apply -f deployment-hello.yaml</span> </span><br><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl get deployment</span></span><br></pre></td></tr></table></figure>

<br>

<p>å»ºç«‹serviceï¼ŒAWSæœƒè‡ªå‹•çµ¦äºˆLB endpoint</p>
<br>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl expose deployment web-deployment --<span class="built_in">type</span>=LoadBalancer --name=demo-aws-service --port 8080</span></span><br></pre></td></tr></table></figure>

<br>

<p>åŸ·è¡Œé€£çµ <br></p>
<img src="/notebook/how-to-install-k8s-on-aws/10.png" class="" title="label">


<h1 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»"></a>åƒè€ƒæ–‡ç»</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.aws.amazon.com/zh_tw/eks/latest/userguide/getting-started.html">AWS EKSå…¥é–€</a></p>
<br>

<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.aws.amazon.com/zh_tw/codepipeline/latest/userguide/tutorials-ecs-ecr-codedeploy.html">AWS ECR</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-k8s-on-aws/" data-id="cl8ssb5oj0010d64uagyifuo3" data-title="how to install k8s on aws" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/k8s-cluster/" rel="tag">k8s cluster</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-fig-Terminal" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/fig-Terminal/" class="article-date">
  <time class="dt-published" datetime="2022-05-19T09:20:09.000Z" itemprop="datePublished">2022-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/fig/">fig</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/fig-Terminal/">fig Terminal</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="what-is-fig"><a href="#what-is-fig" class="headerlink" title="what is fig"></a>what is fig</h1><p>Fig è®“ä½ åœ¨ Terminal è£¡è¼¸å…¥ command æ™‚ï¼Œè‡ªå‹•åˆ—å‡ºç›¸é—œçš„åƒæ•¸&#x2F;æª”æ¡ˆ&#x2F;è¨˜éŒ„ã€‚<br>æœ‰äº†é€™å€‹ï¼Œå¯ä»¥æ¸›å°‘å¾ˆå¤šæŸ¥ man page çš„æ™‚é–“ã€‚</p>
<br>

<img src="/notebook/fig-Terminal/1.gif" class="" title="label">

<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>mac å®‰è£èµ·æ‰‹å¼</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">brew install fig</span></span><br><span class="line">==&gt; Caveats</span><br><span class="line">Please launch the Fig application to finish setup...</span><br><span class="line"></span><br><span class="line">==&gt; Downloading &lt;https://versions.withfig.com/fig%20421.dmg&gt;</span><br><span class="line"><span class="meta">#</span><span class="language-bash"><span class="comment">####################################################################### 100.0%</span></span></span><br><span class="line">==&gt; Installing Cask fig</span><br><span class="line">==&gt; Moving App &#x27;Fig.app&#x27; to &#x27;/Applications/Fig.app&#x27;</span><br><span class="line">==&gt; Linking Binary &#x27;fig-darwin-universal&#x27; to &#x27;/usr/local/bin/fig&#x27;</span><br><span class="line">ğŸº  fig was successfully installed!</span><br></pre></td></tr></table></figure>
<br>

<p>è£å®Œå¾Œè¦é‹è¡ŒAPP</p>
<br>

<img src="/notebook/fig-Terminal/1.png" class="" title="label">

<br>

<p>è·Ÿä½ è¦æ±‚æ¬Šé™</p>
<img src="/notebook/fig-Terminal/2.png" class="" title="label">

<br>

<p>æœƒè¦æ±‚æ”¶é›†ä¸€äº›è³‡è¨Š</p>
<img src="/notebook/fig-Terminal/3.png" class="" title="label">

<br>

<p>è¨»å†Šä¸€ä¸‹ï½ä½ æœƒæ”¶åˆ°é©—è­‰ä¿¡</p>
<img src="/notebook/fig-Terminal/4.png" class="" title="label">

<br>

<p>è¨­å®šé é¢</p>
<img src="/notebook/fig-Terminal/5.png" class="" title="label">


<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fig.io/">fig</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/fig-Terminal/" data-id="cl8ssb5mz0006d64u16qx14bl" data-title="fig Terminal" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/fig-terminal/" rel="tag">fig terminal</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-install-kubectl" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-kubectl/" class="article-date">
  <time class="dt-published" datetime="2022-05-19T09:00:20.000Z" itemprop="datePublished">2022-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/kubectl/">kubectl</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-kubectl/">how to install kubectl</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="what-is-kubectl"><a href="#what-is-kubectl" class="headerlink" title="what is kubectl"></a>what is kubectl</h1><p>å‘½ä»¤åˆ—å·¥å…·ï¼Œé©ç”¨æ–¼ä½¿ç”¨ Kubernetes å¢é›†ï¼Œæ˜¯é‡å°k8sä¸‹æŒ‡ä»¤çš„å·¥å…·ï¼Œclientè¦å‰µå»ºæˆ–åˆªé™¤æ±è¥¿ï¼Œéƒ½æ˜¯é€éè©²å·¥å…·ä¸‹æŒ‡ä»¤ã€‚</p>
<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>åŸºæœ¬ä¸Šå¦‚æœä½ çš„k8sæ¶è¨­åœ¨é›²ç«¯ä¸Šï¼Œåœ¨macä¸Šå‡éœ€è¦å®‰è£kubectlï¼Œå†é€éCLIå»å­˜å–ä½ çš„k8sé›†ç¾¤ï½</p>
<ol>
<li>é€é Homebrew å®‰è£<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">brew install kubectl</span> </span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<ol start="2">
<li>ç¢ºèªæ˜¯å¦å®‰è£å®Œæˆ<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl cluster-info</span> </span><br></pre></td></tr></table></figure></li>
</ol>
<br>
è£œå……ï¼š 
ç‚ºäº†è®“kubectlèƒ½å¤ ç™¼ç¾ä¸¦è¨ªå•Kubernetesé›†ç¾¤ï¼Œä½ éœ€è¦ä¸€å€‹kubeconfigæ–‡ä»¶ï¼Œ 
è©²æ–‡ä»¶åœ¨å‰µå»ºé›†ç¾¤æ™‚ï¼Œæœƒè‡ªå‹•ç”¢ç”Ÿã€‚ é€šå¸¸ï¼Œkubectl çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨ 

<p><code>~/.kube/config</code> </p>
<br>

<ol start="3">
<li>é–‹å•Ÿ shell è‡ªå‹•è£œå…¨åŠŸèƒ½<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;source &lt;(kubectl completion zsh)&quot;</span> &gt;&gt; ~/.zshrc</span></span><br><span class="line"><span class="meta">$ </span><span class="language-bash"><span class="built_in">source</span> ~/.zshrc</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://kubernetes.io/zh/docs/tasks/tools/install-kubectl-macos/#install-with-homebrew-on-macos">install kubectl</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-kubectl/" data-id="cl8ssb5oo0015d64uf4uj1ejx" data-title="how to install kubectl" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/kubectl/" rel="tag">kubectl</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-login-eks" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-login-eks/" class="article-date">
  <time class="dt-published" datetime="2022-05-19T05:31:23.000Z" itemprop="datePublished">2022-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/aws/">aws</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-login-eks/">how to login eks</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>é€™é‚Šè¨˜éŒ„ä¸€ä¸‹ï¼Œå‡è¨­ä½ å·²ç¶“æœ‰AWSçš„EKSå¢é›†ï¼Œè‹¥ä½ æƒ³è¦åœ¨ä¸åŒçš„åœ°æ–¹é€²è¡Œç™»å…¥æ™‚ï¼Œæ‰€éœ€è¦é€²è¡Œçš„æ­¥é©Ÿï¼š</p>
<ul>
<li>ç¢ºèªç•¶å‰çš„é–‹ç™¼æ©Ÿå™¨ä¸Šï¼ŒAWS CLIèˆ‡eksctl å‡å·²å®‰è£ï¼Œä¸¦ä¸”æ˜¯æœ€æ–°çš„ï¼Œè€ŒAWS CLIèˆ‡kubectlçš„ç‰ˆæœ¬æœ‰é»é—œä¿‚ï¼Œå¯ä»¥çœ‹çœ‹é€™<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/aws/aws-cli/issues/6920">issue</a> ï¼Œ ä¸»è¦è§£æ³•å°±æ˜¯æ›´æ–°ä¸€ä¸‹CLIä¸¦é‡æ–° <a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/72126048/error-exec-plugin-invalid-apiversion-client-authentication-k8s-io-v1alpha1-c">set config</a></li>
</ul>
<br>

<ul>
<li>å¦‚æœä½ æ˜¯å¢é›†çš„å»ºç«‹è€…</li>
</ul>
<ol>
<li>è‹¥è¦æŸ¥çœ‹ä½ çš„ AWS CLI ä½¿ç”¨è€…æˆ–è§’è‰²çš„çµ„æ…‹ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">aws sts get-caller-identity</span></span><br><span class="line">&#123;</span><br><span class="line">    &quot;UserId&quot;: &quot;XXXXXXXXXXXXXXXXXXXXX&quot;,</span><br><span class="line">    &quot;Account&quot;: &quot;XXXXXXXXXXXX&quot;,</span><br><span class="line">    &quot;Arn&quot;: &quot;arn:aws:iam::XXXXXXXXXXXX:user/testuser&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<ol start="2">
<li>ç¢ºèªä½ çš„arnç›¸ç¬¦</li>
</ol>
<br>

<ol start="3">
<li>setä½ çš„kubeconfigï¼Œæ³¨æ„ï¼Œéœ€è¦ç”¨æ­£ç¢ºçš„IAMèº«ä»½åŸ·è¡Œ<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">å°‡ eks-cluster-name å–ä»£ç‚ºä½ çš„å¢é›†åç¨±ã€‚å°‡ aws-region å–ä»£ç‚ºä½ çš„ AWS å€åŸŸ</span></span><br><span class="line"><span class="meta">$ </span><span class="language-bash">aws eks update-kubeconfig --name eks-cluster-name --region aws-region</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">æˆ–è€…é€£åŒARNä¸€èµ·è¨­å®š</span></span><br><span class="line"><span class="meta">$ </span><span class="language-bash">aws eks update-kubeconfig --name eks-cluster-name --region aws-region --role-arn arn:aws:iam::XXXXXXXXXXXX:role/testrole</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<ol start="4">
<li>ç¢ºèªkubeconfigæ˜¯å¦å·²ç¶“æ›´æ–°<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl config view --minify</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<ol start="5">
<li>è‹¥è¦ç¢ºèªä½ çš„ IAM ä½¿ç”¨è€…æˆ–è§’è‰²æ˜¯å¦ç¶“é©—è­‰<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl get svc</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<hr>
<br>

<ul>
<li>å¦‚æœä½ ä¸æ˜¯å¢é›†å»ºç«‹è€…</li>
</ul>
<ol>
<li>æŸ¥çœ‹ä½ çš„è§’è‰²ï¼Œå–å¾—ä½ çš„arn<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">aws sts get-caller-identity</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<ol start="2">
<li><p>äº¤çµ¦ä½ çš„ç®¡ç†å“¡ï¼Œé€éç®¡ç†å“¡ç·¨è¼¯ aws-auth ConfigMap</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">kubectl edit configmap aws-auth -n kube-system</span></span><br></pre></td></tr></table></figure>
<br>
</li>
<li><p>ç®¡ç†å“¡å°‡æ–°arnå¡«å…¥ï¼Œæ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">å°‡ testuser å–ä»£ç‚ºä½ çš„ä½¿ç”¨è€…åç¨±</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">arn å–ä»£ç‚ºæ‹¿åˆ°çš„arn</span></span><br><span class="line">mapUsers: |</span><br><span class="line">  - userarn: arn:aws:iam::XXXXXXXXXXXX:user/testuser</span><br><span class="line">    username: testuser</span><br><span class="line">    groups:</span><br><span class="line">      - system:masters</span><br><span class="line">      </span><br><span class="line"><span class="meta"># </span><span class="language-bash">å°‡ IAM è§’è‰²æ–°å¢åˆ° mapRoles</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å°‡ testrole å–ä»£ç‚ºä½ çš„è§’è‰²</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">arn å–ä»£ç‚ºæ‹¿åˆ°çš„arn</span></span><br><span class="line">mapRoles: |</span><br><span class="line">  - rolearn: arn:aws:iam::XXXXXXXXXXXX:role/testrole</span><br><span class="line">    username: testrole</span><br><span class="line">    groups:</span><br><span class="line">      - system:masters</span><br><span class="line">      </span><br><span class="line"><span class="meta"># </span><span class="language-bash">mapRoles éƒ¨åˆ†ä¸­ username çš„å€¼åƒ…æ¥å—å°å¯«å­—å…ƒã€‚ æ˜ å°„è©² IAM è§’è‰²æ™‚æ‡‰è©²ç•¥å»è·¯å¾‘ï¼Œå› ç‚º rolearn ä¸æ”¯æ´è·¯å¾‘ã€‚</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">system:masters ç¾¤çµ„å…è¨±é€²éšä½¿ç”¨è€…å­˜å–å°ä»»ä½•è³‡æºåŸ·è¡Œä»»ä½•å‹•ä½œã€‚</span></span><br></pre></td></tr></table></figure></li>
</ol>
<br>

<p>æ‰“å®Œæ”¶å·¥ï½æ‡‰è©²å°±å¯ä»¥ç™»å…¥äº†ï½</p>
<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://aws.amazon.com/tw/premiumsupport/knowledge-center/eks-api-server-unauthorized-error/">aws login</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-login-eks/" data-id="cl8ssb5or0018d64u7a4r37oj" data-title="how to login eks" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/aws-login-eks-k8s/" rel="tag">aws login eks k8s</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-install-eksctl" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-eksctl/" class="article-date">
  <time class="dt-published" datetime="2022-05-19T04:37:40.000Z" itemprop="datePublished">2022-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/aws/">aws</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-eksctl/">how to install eksctl</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="what-is-eksctl"><a href="#what-is-eksctl" class="headerlink" title="what is eksctl"></a>what is eksctl</h1><p>å‘½ä»¤åˆ—å·¥å…·ï¼Œé©ç”¨æ–¼ä½¿ç”¨ EKS å¢é›†ï¼Œå¯è‡ªå‹•åŸ·è¡Œè¨±å¤šå€‹åˆ¥ä»»å‹™ã€‚</p>
<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>é‚„æ²’å®‰è£ Homebrewçš„ï¼Œè«‹å…ˆå®‰è£</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)</span>&quot;</span></span></span><br></pre></td></tr></table></figure>

<br>

<p>å®‰è£ Weaveworks Homebrew tapã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">brew tap weaveworks/tap</span></span><br></pre></td></tr></table></figure>
<br>

<p>å®‰è£æˆ–å‡ç´šeksctl</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">æœªå®‰è£</span></span><br><span class="line"><span class="meta">$ </span><span class="language-bash">brew install weaveworks/tap/eksctl</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="language-bash">å·²å®‰è£</span></span><br><span class="line"><span class="meta">$ </span><span class="language-bash">brew upgrade eksctl &amp;&amp; brew <span class="built_in">link</span> --overwrite eksctl</span></span><br></pre></td></tr></table></figure>

<p>ç¢ºèªæ˜¯å¦å®‰è£æˆåŠŸ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">eksctl version</span></span><br><span class="line">0.97.0</span><br></pre></td></tr></table></figure>

<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.aws.amazon.com/zh_tw/eks/latest/userguide/eksctl.html">install eksctl</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-eksctl/" data-id="cl8ssb5oa000td64u3axvhiul" data-title="how to install eksctl" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/aws-eksctl/" rel="tag">aws eksctl</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-install-aws-cli" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-aws-cli/" class="article-date">
  <time class="dt-published" datetime="2022-05-19T03:57:24.000Z" itemprop="datePublished">2022-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/aws/">aws</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-aws-cli/">how to install aws cli</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¦ä½¿ç”¨awså…¬æœ‰é›²ï¼Œaws cliæ˜¯ä¸€å€‹å¾ˆæ–¹ä¾¿çš„å·¥å¥ï¼Œè·Ÿä¹‹å‰æœ‰ä»‹ç´¹gcpçš„cliä¸€æ¨£ï¼Œå¯ä»¥å¹«åŠ©ä½ è‡ªå‹•åŒ–å¾ˆå¤šçš„å»ºç½®ï¼Œä»Šå¤©ä»¥macç‚ºä¾‹å­ï¼Œæ•™å¤§å®¶å¦‚ä½•å®‰è£aws-cliï¼Œä¹‹å¾Œå†é€éaws-cliå»ºç«‹k8sé›†ç¾¤ã€‚</p>
<h1 id="what-is-AWS-CLI"><a href="#what-is-AWS-CLI" class="headerlink" title="what is AWS CLI"></a>what is AWS CLI</h1><p>AWS Command Line Interface (AWS CLI) æ˜¯é–‹æ”¾åŸå§‹ç¢¼å·¥å…·ï¼Œå¯è®“ä½ åœ¨å‘½ä»¤åˆ— Shell ä¸­ä½¿ç”¨å‘½ä»¤ä¾†èˆ‡ AWS æœå‹™äº’å‹•ã€‚<br>åªéœ€æœ€å°‘çš„çµ„æ…‹ï¼ŒAWS CLI å°±å¯ä»¥è®“ä½ åœ¨çµ‚ç«¯ç¨‹å¼ä¸­ï¼Œå¾å‘½ä»¤æç¤ºå­—å…ƒé–‹å§‹åŸ·è¡Œå¯å¯¦ä½œç›¸ç•¶æ–¼ç€è¦½å™¨å‹ AWS Management Console æ‰€æä¾›åŠŸèƒ½çš„å‘½ä»¤ã€‚</p>
<h1 id="why-is-AWS-CLI"><a href="#why-is-AWS-CLI" class="headerlink" title="why is AWS CLI"></a>why is AWS CLI</h1><p>AWS CLI èƒ½å¤ ç›´æ¥å­˜å– AWS æœå‹™çš„å…¬æœ‰ APIã€‚ ä½ å¯ä»¥åˆ©ç”¨ AWS CLI æ¢ç´¢æœå‹™çš„åŠŸèƒ½ï¼Œä¸¦é–‹ç™¼ Shell æŒ‡ä»¤ç¢¼ä¾†ç®¡ç†è³‡æºã€‚<br>é™¤äº†ä½éšçš„ API åŒç­‰å‘½ä»¤ï¼Œæœ‰å¹¾å€‹ AWS æœå‹™é‚„æä¾› AWS CLI è‡ªè¨‚åŠŸèƒ½ã€‚è‡ªè¨‚åŠŸèƒ½å¯èƒ½åŒ…æ‹¬è¼ƒé«˜éšçš„å‘½ä»¤ï¼Œå¯ç°¡åŒ–å…·æœ‰è¤‡é›œ API çš„æœå‹™ä½¿ç”¨ã€‚<br>æ‰€ä»¥ä½¿ç”¨èµ·ä¾†æœƒæ›´æ–¹ä¾¿å»ºç«‹è‡ªå‹•åŒ–æµç¨‹ã€‚</p>
<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>å…ˆä¸‹è¼‰ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://awscli.amazonaws.com/AWSCLIV2.pkg">aws-cli</a> ï¼Œç›´æ¥é»é¸é–‹å•Ÿå®‰è£ã€‚</p>
<p>æ¥è‘—å°±ä¸ç®¡3721ï¼Œå°±ç›´æ¥é¸å–é è¨­é¸é …</p>
<img src="/notebook/how-to-install-aws-cli/1.png" class="" title="label">

<br>

<img src="/notebook/how-to-install-aws-cli/2.png" class="" title="label">

<br>

<img src="/notebook/how-to-install-aws-cli/3.png" class="" title="label">

<br>

<img src="/notebook/how-to-install-aws-cli/4.png" class="" title="label">

<p>ç¢ºèªä¸€ä¸‹å®‰è£ä½ç½®èˆ‡æ˜¯å¦å®‰è£æˆåŠŸ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash"><span class="built_in">which</span> aws</span></span><br><span class="line">/usr/local/bin/aws</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$ </span><span class="language-bash">aws --version</span></span><br><span class="line">aws-cli/2.2.44 Python/3.8.8 Darwin/20.5.0 exe/x86_64 prompt/off</span><br></pre></td></tr></table></figure>
<br>

<p>æˆåŠŸæ‹‰ï½<br>æ¥ä¸‹ä¾†å¦‚æœè¦å»ºç«‹k8sé›†ç¾¤ï¼Œé‚„éœ€è¦kubectlå’Œeksctlï¼Œä¸‹ä¸€ç¯‡ç¹¼çºŒã€‚<br>è¨˜å¾—é…ä¸€ä¸‹config~</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ aws configure</span><br><span class="line">AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLE</span><br><span class="line">AWS Secret Access Key [None]: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</span><br><span class="line">Default region name [None]: us-west-2</span><br><span class="line">Default output format [None]: json</span><br></pre></td></tr></table></figure>

<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">aws cli doc</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-aws-cli/" data-id="cl8ssb5nv000nd64u7wi6hxfk" data-title="how to install aws cli" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/aws-cli/" rel="tag">aws-cli</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-install-gcloud" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/how-to-install-gcloud/" class="article-date">
  <time class="dt-published" datetime="2022-05-17T07:17:05.000Z" itemprop="datePublished">2022-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/gcp-gcloud/">gcp gcloud</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/how-to-install-gcloud/">how to install gcloud</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="what-is-gcloud"><a href="#what-is-gcloud" class="headerlink" title="what is gcloud"></a>what is gcloud</h1><p>Google æä¾›ä¸€å€‹å¾ˆå¥½ç”¨çš„ CLI ä»‹é¢å·¥å…·ï¼Œè®“æˆ‘å€‘å¯ä»¥ç”¨æŒ‡ä»¤çš„æ–¹å¼æ§åˆ¶ GCP çš„è³‡æºã€‚</p>
<h1 id="why-is-gcloud"><a href="#why-is-gcloud" class="headerlink" title="why is gcloud"></a>why is gcloud</h1><p>é›–ç„¶Googleæœ‰æä¾›å¥½ç”¨çš„ä»‹é¢ï¼Œä½†æœ‰æ™‚å€™å¯èƒ½æœƒéœ€è¦ä¸€äº›è‡ªå‹•åŒ–ï¼Œå› æ­¤ï¼Œé€égcloud cliï¼Œèƒ½å¤ å®Œæˆæ›´å›°é›£çš„è‡ªå‹•åŒ–å»ºç½®ï¼Œä¾‹å¦‚è‡ªå‹•å»ºç«‹GKEæˆ–GCEç­‰ç­‰ã€‚</p>
<h1 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h1><p>è«‹åˆ°googleä¸‹è¼‰é é¢(åƒè€ƒæœ€ä¸‹æ–¹çš„åƒè€ƒé€£çµ)ï¼Œè¨˜å¾—é¸æ“‡ä½ è¦çš„OSï¼Œé€™é‚Šä»¥M1ç‚ºä¾‹å­ï¼Œä¸¦é€²è¡Œè§£å£“ç¸®ï¼Œä½ æœƒå¾—åˆ°google-cloud-sdkçš„è³‡æ–™å¤¾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd google-cloud-sdk &amp;&amp; sh ./install.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh ./bin/gcloud init</span><br></pre></td></tr></table></figure>

<br>

<p>ä¸€é–‹å§‹æœƒè¦æ±‚ä½ é€²è¡Œèªè­‰ï¼Œè«‹é¸æ“‡ä½ çš„googleå¸³è™Ÿï¼Œå°±æœƒé–‹å§‹é€²è¡Œé…ç½®äº†ã€‚çœ‹ä½ æ˜¯è¦æ–°å»ºå°ˆæ¡ˆé‚„æ˜¯ç”¨ç¾æœ‰å°ˆæ¡ˆä¾†ä½¿ç”¨ã€‚</p>
<img src="/notebook/how-to-install-gcloud/1.png" class="" title="label">


<br>

<p>å®‰è£å®Œç•¢å¾Œå¯ä»¥ç¢ºèªä¸€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud version</span><br></pre></td></tr></table></figure>
<br>

<img src="/notebook/how-to-install-gcloud/2.png" class="" title="label">


<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://cloud.google.com/sdk/docs/install">gcloud download</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/how-to-install-gcloud/" data-id="cl8ssb5ob000vd64uar15986m" data-title="how to install gcloud" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/gcp-gcloud/" rel="tag">gcp gcloud</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-install-k8s-on-gcp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/install-k8s-on-gcp/" class="article-date">
  <time class="dt-published" datetime="2022-05-17T06:59:00.000Z" itemprop="datePublished">2022-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/kubernetes/">kubernetes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/install-k8s-on-gcp/">install k8s cluster on gcp</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>é€™é‚Šä»‹ç´¹å¦‚ä½•åœ¨GCPä¸Šå®‰è£k8s clusterï¼Œæ•´é«”è€Œè¨€ï¼Œæœƒåƒè€ƒä¹‹å‰GCPæ¶æ§‹ã€‚<br><br></p>
<img src="/notebook/install-k8s-on-gcp/1.png" class="" title="label">


<h1 id="æ•´é«”æ­¥é©Ÿ"><a href="#æ•´é«”æ­¥é©Ÿ" class="headerlink" title="æ•´é«”æ­¥é©Ÿ"></a>æ•´é«”æ­¥é©Ÿ</h1><p>1.æº–å‚™ä¸€æ”¯Node.jsæ‡‰ç”¨ç¨‹å¼ </p>
<p>2.å»ºç«‹ Docker container image </p>
<p>3.æŠŠimageæ¨é€ä¸¦å„²å­˜åœ¨Container Registry </p>
<p>4.å»ºç«‹GKE Clusterï¼Œéƒ¨ç½²Hello Node</p>
<p>5.è®“æ‡‰ç”¨ç¨‹å¼ä¸Šç·šexpose</p>
<h1 id="é–‹å§‹å‰æº–å‚™å¥½GCPå¸³è™Ÿèˆ‡gcloudçš„clientå®‰è£"><a href="#é–‹å§‹å‰æº–å‚™å¥½GCPå¸³è™Ÿèˆ‡gcloudçš„clientå®‰è£" class="headerlink" title="é–‹å§‹å‰æº–å‚™å¥½GCPå¸³è™Ÿèˆ‡gcloudçš„clientå®‰è£"></a>é–‹å§‹å‰æº–å‚™å¥½GCPå¸³è™Ÿèˆ‡gcloudçš„clientå®‰è£</h1><p>å¯ä»¥åƒè€ƒä¹‹å‰å¯«çš„å…§å®¹</p>
<p>#é–‹å•Ÿ cloud shell</p>
<img src="/notebook/install-k8s-on-gcp/2.png" class="" title="label">

<p>ç”¨viæŒ‡ä»¤å»ºä¸€å€‹Node.jsæª”æ¡ˆ</p>
<p><code>vi server.js</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&#x27;http&#x27;);</span><br><span class="line">  var handleRequest = function(request, response) &#123;</span><br><span class="line">  response.writeHead(200);</span><br><span class="line">  response.end(&quot;Hello World!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">var www = http.createServer(handleRequest);</span><br><span class="line">www.listen(8080);</span><br></pre></td></tr></table></figure>

<br>

<p>æ¥è‘—åŸ·è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure>

<br>

<p>ä¸¦åœ¨å³ä¸Šè§’çš„ç¶²é é è¦½ï¼Œå¯ä»¥é€²è¡Œé è¦½</p>
<img src="/notebook/install-k8s-on-gcp/3.png" class="" title="label">
<img src="/notebook/install-k8s-on-gcp/4.png" class="" title="label">

<br>

<h1 id="é–‹å§‹å»ºç«‹image"><a href="#é–‹å§‹å»ºç«‹image" class="headerlink" title="é–‹å§‹å»ºç«‹image"></a>é–‹å§‹å»ºç«‹image</h1><p><code>vi Dockerfile</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FROM node:6.9.2</span><br><span class="line">EXPOSE 8080</span><br><span class="line">COPY server.js .</span><br><span class="line">CMD node server.js</span><br></pre></td></tr></table></figure>
<br>
ç”¨ä»¥ä¸‹æŒ‡ä»¤å»ºç«‹imageï¼Œandylab-343008æ˜¯ä½ çš„projectID

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t gcr.io/andylab-343008/hello-node:v1 .   </span><br></pre></td></tr></table></figure>
<br>

<p>éç¨‹ä¸­æœƒè¦æ±‚æˆæ¬Š</p>
<img src="/notebook/install-k8s-on-gcp/5.png" class="" title="label">

<br>
ç­‰å¾…ä¸¦ä¸”çœ‹åˆ°æˆåŠŸå»ºç«‹image

<img src="/notebook/install-k8s-on-gcp/6.png" class="" title="label">
<img src="/notebook/install-k8s-on-gcp/7.png" class="" title="label">

<p>ä½ å¯ä»¥åŸ·è¡Œä¸€ä¸‹dockeræŒ‡ä»¤ï¼Œç¢ºèªæ˜¯å¦æ­£å¸¸</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:8080 gcr.io/andylab-343008/hello-node:v1</span><br></pre></td></tr></table></figure>
<img src="/notebook/install-k8s-on-gcp/8.png" class="" title="label">

<p>ä¸€æ¨£é€éç¶²é é è¦½ï¼Œå¯ä»¥é–‹å•Ÿç¶²é ï¼ŒåŒæ¨£æ˜¯çœ‹åˆ°Helloï¼ŒWorld!å°±æ˜¯æˆåŠŸäº†ï¼Œå°±å¯ä»¥å…ˆæš«æ™‚åœæ­¢ï½</p>
<p><code>docker stop &lt;CONTAINER ID&gt;</code></p>
<br>

<h1 id="æŠŠå»ºç«‹çš„imageä¸Šå‚³åˆ°GCR"><a href="#æŠŠå»ºç«‹çš„imageä¸Šå‚³åˆ°GCR" class="headerlink" title="æŠŠå»ºç«‹çš„imageä¸Šå‚³åˆ°GCR"></a>æŠŠå»ºç«‹çš„imageä¸Šå‚³åˆ°GCR</h1><p>GCR (Google Container Registry)ï¼Œå®ƒæ˜¯ä¸€å€‹å°ˆé–€æ”¾imageçš„åœ°æ–¹ã€‚<br>é€™æ™‚å€™è¦ç”¨æˆ‘å€‘ä¸Šé¢æåˆ°çš„gcloudä¾†é€²è¡Œäº†ï½</p>
<p>å…ˆå•Ÿç”¨GCR APIæœå‹™</p>
<img src="/notebook/install-k8s-on-gcp/9.png" class="" title="label">
<br>
å¦‚æœæ²’æœ‰å•Ÿç”¨æœƒæ”¶åˆ°éŒ¯èª¤è¨Šæ¯
<img src="/notebook/install-k8s-on-gcp/10.png" class="" title="label">

<p><code>gcloud docker -- push gcr.io/andylab-343008/hello-node:v1</code></p>
<p>ç­‰å¾…</p>
<img src="/notebook/install-k8s-on-gcp/12.png" class="" title="label">

<br>

<p>çµæŸå¾Œè‡³GCRçš„GUIä»‹é¢æŸ¥çœ‹ï¼Œæœƒç™¼ç¾å¤šäº†ä¸€å€‹image</p>
<img src="/notebook/install-k8s-on-gcp/11.png" class="" title="label">

<br>

<h1 id="å»ºç«‹K8s-Cluster"><a href="#å»ºç«‹K8s-Cluster" class="headerlink" title="å»ºç«‹K8s Cluster"></a>å»ºç«‹K8s Cluster</h1><p>ä¸€æ¨£è¦ä½¿ç”¨å²å®³çš„gcloudä¾†å»ºç½®ï¼Œ é¦–å…ˆå…ˆç¢ºä¿ä½ çš„gcloud æ‰€åœ¨çš„projectæ˜¯ä½ æƒ³è¦çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud config set project YOUR_PROJECT_ID </span><br></pre></td></tr></table></figure>
<br>
å…ˆé–‹å•Ÿ API service - container.googleapis.com
ä¸ç„¶æœƒç„¡æ³•å»ºç«‹clusterå”·ï½

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud services enable container.googleapis.com</span><br></pre></td></tr></table></figure>
<img src="/notebook/install-k8s-on-gcp/13.png" class="" title="label">

<br>

<p>é–‹å§‹å»ºç«‹clusterï¼Œç­‰å¾…ï½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud container clusters create hello-world --num-nodes 2 --zone asia-east1-a --machine-type n1-standard-1</span><br></pre></td></tr></table></figure>

<img src="/notebook/install-k8s-on-gcp/14.png" class="" title="label">

<br>
æˆåŠŸæ‹‰ï½

<img src="/notebook/install-k8s-on-gcp/15.png" class="" title="label">

<p>å‰å¾€GKEç¢ºèªä¸€ä¸‹</p>
<img src="/notebook/install-k8s-on-gcp/16.png" class="" title="label">

<h1 id="å°‡image-éƒ¨ç½²è‡³-GKEä¸Š"><a href="#å°‡image-éƒ¨ç½²è‡³-GKEä¸Š" class="headerlink" title="å°‡image éƒ¨ç½²è‡³ GKEä¸Š"></a>å°‡image éƒ¨ç½²è‡³ GKEä¸Š</h1><p>å…ˆå»ºç«‹ç°¡å–®çš„yamlè©¦é©—ï¼Œä¹‹å¾Œå†é‡å°k8sè¬›è§£ï½</p>
<p><code>vi deployment-hello.yaml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: web-deployment</span><br><span class="line">  labels:</span><br><span class="line">    app: nginx</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: web</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: web</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: hello-node</span><br><span class="line">        image: gcr.io/andylab-343008/hello-node:v1</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 8080</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f deployment-hello.yaml </span><br><span class="line">kubectl get deployment</span><br></pre></td></tr></table></figure>
<br>

<p>ç¢ºèªæœ‰å»ºç«‹äº†deployment</p>
<img src="/notebook/install-k8s-on-gcp/17.png" class="" title="label">


<p>ç‚ºäº†è®“ä½ çš„imageå°å¤–éœ²å‡ºï¼Œå»ºç«‹service</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deployment web-deployment --type LoadBalancer --port 8080 </span><br></pre></td></tr></table></figure>
<br>
éœ€ç­‰å¾…ä¸€ä¸‹ï¼Œä½ æœƒå…ˆçœ‹åˆ°Pendingï¼Œé€™æ˜¯å¾ˆæ­£å¸¸çš„ï½

<img src="/notebook/install-k8s-on-gcp/18.png" class="" title="label">

<p>éå¹¾åˆ†é˜å¾Œï¼Œæœƒç™¼ç¾Pendingè®ŠæˆIPäº†ï½</p>
<img src="/notebook/install-k8s-on-gcp/19.png" class="" title="label">

<p>å»GCPçš„ç¶²è·¯æœå‹™-è² è¼‰å¹³è¡¡ç¢ºèªï¼Œè·‘å‡ºä¸€å€‹LBæ‹‰ï½</p>
<img src="/notebook/install-k8s-on-gcp/21.png" class="" title="label">

<p>æ–¼ç€è¦½å™¨åŸ·è¡ŒIP~</p>
<img src="/notebook/install-k8s-on-gcp/20.png" class="" title="label">


<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>æ–¼å…¬æœ‰é›²ä¸Šå»ºç«‹K8Sç›¸å°å®¹æ˜“è¨±å¤šï¼Œ<br>é€™é‚Šå¤§å®¶åƒ…éœ€è¦å­¸ç¿’å¦‚ä½•æ–¼GCPä¸Šå»ºç«‹K8Sæ—¢å¯ï¼Œ<br>å°æ–¼ä¸ç†Ÿæ‚‰K8Sçš„äººï¼Œå¯ä»¥å…ˆç…§è‘—åšï½<br>å¾ŒçºŒåœ¨è©³ç´°çš„ä»‹ç´¹dockerèˆ‡K8Sã€‚</p>
<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://google.qwiklabs.com/focuses/564?parent=catalog">gcp lab</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/install-k8s-on-gcp/" data-id="cl8ssb5oy001md64u6qvf7s7d" data-title="install k8s cluster on gcp" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/k8s-kubernetes-cluster/" rel="tag">k8s kubernetes cluster</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-install-k8s-on-Ubuntu" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/notebook/install-k8s-on-Ubuntu/" class="article-date">
  <time class="dt-published" datetime="2022-05-16T07:21:08.000Z" itemprop="datePublished">2022-05-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/notebook/categories/kubernetes/">kubernetes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/notebook/install-k8s-on-Ubuntu/">install k8s cluster on Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ¬æ–‡å°‡ä»‹ç´¹å¦‚ä½•å®‰è£k8såˆ°Ubuntuï¼Œåœ¨å®‰è£å‰è«‹å…ˆæº–å‚™ä¸‰å€‹è™›æ“¬æ©Ÿï¼Œä½ å¯ä»¥é€évirtualboxé€²è¡Œå®‰è£ï¼Œä»¥ä¸‹è¦æ ¼å¯ä»¥åƒè€ƒï¼š</p>
<table>
<thead>
<tr>
<th>Server Type</th>
<th>Hostname</th>
<th>Specs</th>
</tr>
</thead>
<tbody><tr>
<td>Master</td>
<td>k8s-master01</td>
<td>4GB Ram, 2vcpus</td>
</tr>
<tr>
<td>Worker</td>
<td>k8s-worker01</td>
<td>4GB Ram, 2vcpus</td>
</tr>
<tr>
<td>Worker</td>
<td>k8s-worker02</td>
<td>4GB Ram, 2vcpus</td>
</tr>
</tbody></table>
<h1 id="å®‰è£æ­¥é©Ÿ"><a href="#å®‰è£æ­¥é©Ÿ" class="headerlink" title="å®‰è£æ­¥é©Ÿ"></a>å®‰è£æ­¥é©Ÿ</h1><ul>
<li>é‡å°Ubuntué€²è¡Œé…ç½®</li>
<li>å®‰è£docker</li>
<li>å®‰è£kubeadmã€kubectlä»¥åŠkubelet</li>
<li>å»ºç«‹ä¸¦åˆå§‹åŒ– master ç¯€é»</li>
<li>å»ºç«‹ä¸¦å°‡ worker ç¯€é»åŠ å…¥</li>
</ul>
<br>

<h4 id="é‡å°Ubuntué€²è¡Œé…ç½®"><a href="#é‡å°Ubuntué€²è¡Œé…ç½®" class="headerlink" title="é‡å°Ubuntué€²è¡Œé…ç½®"></a>é‡å°Ubuntué€²è¡Œé…ç½®</h4><ul>
<li><p>å…ˆé—œæ‰ swap</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i &#x27;/ swap / s/^\(.*\)$/#\1/g&#x27; /etc/fstab</span><br><span class="line">sudo swapoff -a</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>æ¥è‘—å•Ÿç”¨å…§æ ¸æ¨¡çµ„èˆ‡é…ç½®sysctl</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">Enable kernel modules</span></span><br><span class="line">sudo modprobe overlay</span><br><span class="line">sudo modprobe br_netfilter</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">Add some settings to sysctl</span></span><br><span class="line">sudo tee /etc/sysctl.d/kubernetes.conf&lt;&lt;EOF</span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="line">net.ipv4.ip_forward = 1</span><br><span class="line">EOF</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">Reload sysctl</span></span><br><span class="line">sudo sysctl --system</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>æ›´æ–°ä¸€ä¸‹ï¼Œä¸¦é‡æ–°é–‹æ©Ÿ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt -y full-upgrade</span><br><span class="line">[ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f</span><br></pre></td></tr></table></figure>

<br></li>
</ul>
<h4 id="install-docker-ä¸¦ä¸”ä¿®æ”¹ä¸€ä¸‹cgroups"><a href="#install-docker-ä¸¦ä¸”ä¿®æ”¹ä¸€ä¸‹cgroups" class="headerlink" title="install docker ä¸¦ä¸”ä¿®æ”¹ä¸€ä¸‹cgroups"></a>install docker ä¸¦ä¸”ä¿®æ”¹ä¸€ä¸‹cgroups</h4>  <br>

<p>  cgroupsæ˜¯å•¥å‘¢ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€å€‹é€²ç¨‹è™•ç†éš”é›¢å·¥å…·ï¼Œdockerå°±æ˜¯ç”¨å®ƒæ¥å¯¦ç¾å®¹å™¨çš„éš”é›¢çš„ã€‚docker é»˜èªä½¿ç”¨çš„æ˜¯cgroupfsï¼Œ<br>  è€Œ k8s ä¹Ÿç”¨åˆ°äº†ä¸€ä¸ªé€²ç¨‹éš”é›¢å·¥å…·systemdï¼Œå¦‚æœä½¿ç”¨å…©å€‹éš”é›¢å·¥å…·çš„è©±å¯èƒ½æœƒå¼•èµ·ç•°å¸¸ï¼Œæ‰€ä»¥å¿…é ˆè¦æŠŠ docker çš„ä¹Ÿæ”¹æˆsystemdã€‚</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">æ›´æ–°ä¸¦å®‰è£ç›¸é—œæ‰€éœ€å¥—ä»¶</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y curl gnupg2 software-properties-common apt-transport-https ca-certificates</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å¢åŠ repo</span></span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">æ›´æ–°ä¸¦å®‰è£docker</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y containerd.io docker-ce docker-ce-cli</span><br><span class="line"><span class="meta">  </span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å»ºç«‹è³‡æ–™å¤¾</span></span><br><span class="line">sudo mkdir -p /etc/systemd/system/docker.service.d</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å»ºç«‹ daemon json config æ–‡ä»¶ï¼Œä¸¦å¡«å…¥å…§å®¹</span></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;EOF</span><br><span class="line">&#123;</span><br><span class="line">  &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;],</span><br><span class="line">  &quot;log-driver&quot;: &quot;json-file&quot;,</span><br><span class="line">  &quot;log-opts&quot;: &#123;</span><br><span class="line">    &quot;max-size&quot;: &quot;100m&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;storage-driver&quot;: &quot;overlay2&quot;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">é‡å•Ÿdocker</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">sudo systemctl enable docker</span><br><span class="line"><span class="meta">  </span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">æª¢æŸ¥æ˜¯å¦å®‰è£èˆ‡ä¿®æ”¹æˆåŠŸ</span></span><br><span class="line">docker info | grep Cgroup</span><br></pre></td></tr></table></figure>

  <br>

<h4 id="install-kubelet-kubeadm-and-kubectl"><a href="#install-kubelet-kubeadm-and-kubectl" class="headerlink" title="install kubelet, kubeadm and kubectl"></a>install kubelet, kubeadm and kubectl</h4><p>  ç‚ºæ¯ä¸€å€‹ç¯€é»éƒ½å®‰è£ kubelet, kubeadm and kubectl</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo apt -y install curl apt-transport-https</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">å¢åŠ repo</span></span><br><span class="line">curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -</span><br><span class="line">echo &quot;deb https://apt.kubernetes.io/ kubernetes-xenial main&quot; | sudo tee /etc/apt/sources.list.d/kubernetes.list</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">æ›´æ–°ä¸¦ä¸”å®‰è£ç›¸é—œæ‰€éœ€å¥—ä»¶</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt -y install vim git curl wget kubelet kubeadm kubectl</span><br><span class="line">sudo apt-mark hold kubelet kubeadm kubectl</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">ç¢ºèªæ˜¯å¦å®‰è£æˆåŠŸ</span></span><br><span class="line">kubectl version --client &amp;&amp; kubeadm version</span><br></pre></td></tr></table></figure>

  <br>

<h4 id="å»ºç«‹ä¸¦åˆå§‹åŒ–masterç¯€é»"><a href="#å»ºç«‹ä¸¦åˆå§‹åŒ–masterç¯€é»" class="headerlink" title="å»ºç«‹ä¸¦åˆå§‹åŒ–masterç¯€é»"></a>å»ºç«‹ä¸¦åˆå§‹åŒ–masterç¯€é»</h4>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">åˆå§‹åŒ–</span></span><br><span class="line">kubeadm init \</span><br><span class="line">--apiserver-advertise-address=192.168.0.1 \</span><br><span class="line">--pod-network-cidr=192.168.0.0/16</span><br></pre></td></tr></table></figure>
<br>
--apiserver-advertise-address: k8s ä¸­çš„ä¸»è¦ç¯€é»çš„apiserverçš„ä½ç½®ï¼Œå¡«è‡ªå·±çš„ç¯€é» ip
<br>
--pod-network-cidr: k8så…§éƒ¨çš„ç¶²è·¯
<br>

<p>é€™æ™‚å€™ä½ æœƒçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹åœ–ç‰‡çš„çµæœï¼Œè¨˜å¾—æŠŠæœ€å¾Œä¸€å¥joinè¨˜ä¸‹ä¾†</p>
<img src="/notebook/install-k8s-on-Ubuntu/kube-init.png" class="" title="label">

<br>

<h4 id="å»ºç«‹ä¸¦å°‡-worker-ç¯€é»åŠ å…¥"><a href="#å»ºç«‹ä¸¦å°‡-worker-ç¯€é»åŠ å…¥" class="headerlink" title="å»ºç«‹ä¸¦å°‡ worker ç¯€é»åŠ å…¥"></a>å»ºç«‹ä¸¦å°‡ worker ç¯€é»åŠ å…¥</h4><p>ssh é€²å…¥workerï¼Œä¸¦åŸ·è¡Œå‰›å‰›çš„joinèªæ³•ã€‚ <br></p>
<img src="/notebook/install-k8s-on-Ubuntu/kube-init-2.png" class="" title="label">

<h4 id="ç¢ºèª"><a href="#ç¢ºèª" class="headerlink" title="ç¢ºèª"></a>ç¢ºèª</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes </span><br></pre></td></tr></table></figure>

<br>

<img src="/notebook/install-k8s-on-Ubuntu/kube-init-3.png" class="" title="label">


<h1 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://medium.com/starbugs/%E7%AC%AC%E4%B8%80%E5%8D%83%E9%9B%B6%E4%B8%80%E7%AF%87%E7%9A%84-cgroups-%E4%BB%8B%E7%B4%B9-a1c5005be88c">ç¬¬ä¸€åƒé›¶ä¸€ç¯‡çš„ cgroups ä»‹ç´¹</a><br><br><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://computingforgeeks.com/deploy-kubernetes-cluster-on-ubuntu-with-kubeadm/">Install Kubernetes Cluster on Ubuntu 20.04 with kubeadm</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babyandy0111.github.io/notebook/install-k8s-on-Ubuntu/" data-id="cl8ssb5ow001jd64u5yjah32y" data-title="install k8s cluster on Ubuntu" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notebook/tags/k8s-kubernetes-cluster/" rel="tag">k8s kubernetes cluster</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/notebook/">&laquo; ä¸Šä¸€é </a><a class="page-number" href="/notebook/">1</a><span class="page-number current">2</span><a class="page-number" href="/notebook/page/3/">3</a><a class="extend next" rel="next" href="/notebook/page/3/">ä¸‹ä¸€é  &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†é¡</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/Snyk/">Snyk</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/aws/">aws</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/azure/">azure</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/data-lambda-kinesis-aws/">data, lambda, kinesis, aws</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/fig/">fig</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/gcp-gcloud/">gcp gcloud</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/gcs-gcp-html/">gcs gcp html</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/gitlab-ci-cd-cdk-aws/">gitlab, ci/cd, cdk, aws</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/kubectl/">kubectl</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/kubernetes/">kubernetes</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/mysql-crud-NestJs/">mysql crud NestJs</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/nodejs-nestjs/">nodejs nestjs</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/nodejs-nestjs-doc-swagger/">nodejs nestjs doc swagger</a></li><li class="category-list-item"><a class="category-list-link" href="/notebook/categories/nodejs-nestjs-doc-swagger-fargate-aws/">nodejs nestjs doc swagger fargate aws</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/Snyk-Security/" rel="tag">Snyk Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/aws-eksctl/" rel="tag">aws eksctl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/aws-login-eks-k8s/" rel="tag">aws login eks k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/aws-nestjs-fargate/" rel="tag">aws nestjs fargate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/aws-cli/" rel="tag">aws-cli</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/azure-k8s-cluster/" rel="tag">azure k8s cluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/azure-cli/" rel="tag">azure-cli</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/cdk-aws-kinesis/" rel="tag">cdk, aws, kinesis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/cdk-aws-node-cloudWatch-eventBridge-lambda/" rel="tag">cdk, aws, node, cloudWatch, eventBridge, lambda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/cdk-gitlab-ci-cd/" rel="tag">cdk, gitlab, ci&#x2F;cd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/docker-container-image/" rel="tag">docker container image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/fig-terminal/" rel="tag">fig terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/gcp-gcloud/" rel="tag">gcp gcloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/gcs-gcp-html/" rel="tag">gcs gcp html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/k8s-cluster/" rel="tag">k8s cluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/k8s-component/" rel="tag">k8s component</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/k8s-kubernetes/" rel="tag">k8s kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/k8s-kubernetes-cluster/" rel="tag">k8s kubernetes cluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/kubectl/" rel="tag">kubectl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/mysql-crud-NestJs/" rel="tag">mysql crud NestJs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/nodejs-nestjs-express/" rel="tag">nodejs nestjs express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notebook/tags/nodejs-nestjs-swagger/" rel="tag">nodejs nestjs swagger</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤é›²</h3>
    <div class="widget tagcloud">
      <a href="/notebook/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/notebook/tags/Snyk-Security/" style="font-size: 10px;">Snyk Security</a> <a href="/notebook/tags/aws-eksctl/" style="font-size: 10px;">aws eksctl</a> <a href="/notebook/tags/aws-login-eks-k8s/" style="font-size: 10px;">aws login eks k8s</a> <a href="/notebook/tags/aws-nestjs-fargate/" style="font-size: 10px;">aws nestjs fargate</a> <a href="/notebook/tags/aws-cli/" style="font-size: 10px;">aws-cli</a> <a href="/notebook/tags/azure-k8s-cluster/" style="font-size: 10px;">azure k8s cluster</a> <a href="/notebook/tags/azure-cli/" style="font-size: 10px;">azure-cli</a> <a href="/notebook/tags/cdk-aws-kinesis/" style="font-size: 10px;">cdk, aws, kinesis</a> <a href="/notebook/tags/cdk-aws-node-cloudWatch-eventBridge-lambda/" style="font-size: 10px;">cdk, aws, node, cloudWatch, eventBridge, lambda</a> <a href="/notebook/tags/cdk-gitlab-ci-cd/" style="font-size: 10px;">cdk, gitlab, ci/cd</a> <a href="/notebook/tags/docker-container-image/" style="font-size: 10px;">docker container image</a> <a href="/notebook/tags/fig-terminal/" style="font-size: 10px;">fig terminal</a> <a href="/notebook/tags/gcp-gcloud/" style="font-size: 10px;">gcp gcloud</a> <a href="/notebook/tags/gcs-gcp-html/" style="font-size: 10px;">gcs gcp html</a> <a href="/notebook/tags/k8s-cluster/" style="font-size: 10px;">k8s cluster</a> <a href="/notebook/tags/k8s-component/" style="font-size: 10px;">k8s component</a> <a href="/notebook/tags/k8s-kubernetes/" style="font-size: 10px;">k8s kubernetes</a> <a href="/notebook/tags/k8s-kubernetes-cluster/" style="font-size: 20px;">k8s kubernetes cluster</a> <a href="/notebook/tags/kubectl/" style="font-size: 10px;">kubectl</a> <a href="/notebook/tags/mysql-crud-NestJs/" style="font-size: 10px;">mysql crud NestJs</a> <a href="/notebook/tags/nodejs-nestjs-express/" style="font-size: 10px;">nodejs nestjs express</a> <a href="/notebook/tags/nodejs-nestjs-swagger/" style="font-size: 10px;">nodejs nestjs swagger</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½™æ•´</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/notebook/archives/2022/10/">åæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/notebook/archives/2022/09/">ä¹æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/notebook/archives/2022/06/">å…­æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/notebook/archives/2022/05/">äº”æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/notebook/archives/2022/02/">äºŒæœˆ 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/notebook/how-to-trigger-lambda-from-kinesis/">how-to-trigger-lambda-from-kinesis</a>
          </li>
        
          <li>
            <a href="/notebook/gitlab-CICD-introduce/">gitlab CI/CD introduce</a>
          </li>
        
          <li>
            <a href="/notebook/How-to-using-CDK/">How to using CDK</a>
          </li>
        
          <li>
            <a href="/notebook/how-to-build-Static-Website-on-gcs/">how to build Static Website on gcs</a>
          </li>
        
          <li>
            <a href="/notebook/how-to-build-x86-64-image-on-M1/">how to build x86_64 image on M1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Andy<br>
      Powered by <a href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/notebook/" class="mobile-nav-link">Home</a>
  
    <a href="/notebook/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/notebook/js/jquery-3.4.1.min.js"></script>



  
<script src="/notebook/fancybox/jquery.fancybox.min.js"></script>




<script src="/notebook/js/script.js"></script>





  </div>
</body>
</html>